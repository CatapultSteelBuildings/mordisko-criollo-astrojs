---
import { Image } from "astro:assets";
interface Props {
  lang: string;
}

import hero1 from "@assets/images/products/empanada-01.webp";
import hero2 from "@assets/images/products/empanada-02.webp";
import hero3 from "@assets/images/products/empanada-03.webp";
import hero4 from "@assets/images/products/empanada-04.webp";

const images = [hero1, hero2, hero3, hero4];

const { lang = "es" } = Astro.props;
---

<section class="Hero-Home relative w-full overflow-hidden">
  <div>
    <Image
      src={hero1}
      alt={`Steel Building Hero`}
      widths={[360, 640, 768, 1200, 1920]}
      sizes="(max-width: 360px) 100vw, (max-width: 640px) 100vw, (max-width: 768px) 100vw, (max-width: 1024px) 1200px, 1920px"
      loading="eager"
      fetchpriority="high"
      class="w-full h-auto max-h-[80vh] object-cover"
      decoding="async"
    />
  </div>
  {
    images.map((img, index) => (
      <div class="hero-slide absolute inset-0">
        <Image
          src={img}
          alt={`Steel Building Hero ${index + 1}`}
          widths={[360, 640, 768, 1200, 1920]}
          sizes="(max-width: 360px) 100vw, (max-width: 640px) 100vw, (max-width: 768px) 100vw, (max-width: 1024px) 1200px, 1920px"
          loading={index === 0 ? "eager" : "lazy"}
          fetchpriority={index === 0 ? "high" : undefined}
          class="w-full h-auto max-h-[80vh] object-cover"
          decoding="async"
        />
      </div>
    ))
  }

  <!-- Texto fijo centrado -->
  <div
    class="absolute inset-0 flex flex-col items-center justify-center text-center text-white z-10 px-4"
  >
    <h1
      class="text-[var(--white)] text-shadow-[0_0_1px_var(--secondary)] text-3xl md:text-4xl lg:text-5xl font-bold leading-tight max-w-3xl"
    >
      Empanadas con sabor a Medell√≠n
    </h1>
    <p class="hidden mt-4 text-lg md:block md:text-xl max-w-2xl opacity-90">
      Gran variedad de sabores
    </p>
  </div>
</section>

<style>
  @reference "tailwindcss";
  .Hero-Home {
    max-height: 800px;
    position: relative;
    overflow: hidden;
  }

  .hero-slide {
    position: absolute;
    inset: 0;
    opacity: 0;
    animation: fade 16s infinite;
  }

  .hero-slide:nth-child(1) {
    animation-delay: 0s;
  }
  .hero-slide:nth-child(2) {
    animation-delay: 4s;
  }
  .hero-slide:nth-child(3) {
    animation-delay: 8s;
  }
  .hero-slide:nth-child(4) {
    animation-delay: 12s;
  }

  @keyframes fade {
    0%,
    100% {
      opacity: 0;
    }
    8.33%,
    91.66% {
      opacity: 1;
    }
  }
</style>
